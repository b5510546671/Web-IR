
<html>
<head>
   <title>สถาปัตยกรรมของ cpu 8086</title>
</head>
<body>

<center><table cols=1 width="95%" bgcolor="#99ff99" >
<tr>
<td align=center><font face="ms sans serif"><font color="#3333ff">สถาปัตยกรรม<wbr>ของ
cpu 8086</font></font></td>
</tr>
</table></center>


<p>
<center><table cols=1 width="95%">
<tr>
<td>
<b><u><font face="ms sans serif"><font color="#3333ff"><font size=-1>โครง<wbr>สร้าง<wbr>สถาปัตยกรรม<wbr>ของ
cpu 8086 (8086 block diagram)</font></font></font></u></b>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>8086 มี<wbr>แอดเดรส
20 เส้น ซึ่ง<wbr>ทำ<wbr>ให้<wbr>อ้าง<wbr>แอดเดรส<wbr>ได้<wbr>ถึง 1,045,576 ไบต์ (หรือ 1 เมกะไบต์) หรือ<wbr>มาก<wbr>เป็น
16 เท่า ของ<wbr>ไมโคร<wbr>โปรเซสเซอร์<wbr>ขนาด 8 บิต data bus มี<wbr>ขนาด 16 บิต ทำ<wbr>ให้ 8086
สามารถ<wbr>เรียก<wbr>ข้อ<wbr>มูล<wbr>ได้<wbr>ที<wbr>ละ 1เวิร์ด หรือ 2 ไบต์ได้<wbr>และ<wbr>ยัง<wbr>เตรียม<wbr>พร้อม<wbr>สำหรับ<wbr>การ<wbr>ทำ<wbr>งาน<wbr>แบบ
ใช้<wbr>หลาย cpu และ<wbr>รวม<wbr>ทั้ง<wbr>การ<wbr>ทำ<wbr>งาน ร่วม กับอุปกรณ์<wbr>อื่น<wbr>ที่<wbr>จะ<wbr>ทำ<wbr>งาน<wbr>ร่วม<wbr>กัน 8086
ได้<wbr>ด้วย<wbr><wbr></font></font></font></dd>

<center>
<img src="86block1.jpg" height=500 width=650><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<p><font face="ms sans serif"><font color="#000000"><font size=-1>รูป<wbr>แสดง
block diagram ของ cpu 8086</font></font></font></center>

<p><b><u><font face="ms sans serif"><font color="#3333ff"><font size=-1>register
ของ cpu 8086</font></font></font></u></b>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>รีจิสเตอร์ของ
8086 ประกอบ<wbr>ด้วย<wbr>รีจิสเตอร์สำหรับ<wbr>จุด<wbr>ประสงค์<wbr>ทั่ว<wbr>ไป<wbr><wbr>, รีจิสเตอร์ ชี้<wbr>คำ<wbr>สั่ง flag
และ เซกเมนต์ รีจิสเตอร์ รีจิสเตอร์เหล่า<wbr>นี้<wbr>นำ<wbr>มา<wbr>ใช้<wbr>งาน<wbr>สำหรับ<wbr>การ<wbr>อ้าง address
แสดง<wbr>สถานะ<wbr>ของเครื่อง และ<wbr>สำหรับ fetch คำ<wbr>สั่ง<wbr>เพื่อ<wbr>มา<wbr>ตี<wbr>ความ และ<wbr>กระ<wbr>ทำ<wbr>ตาม<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>ใน<wbr>บรรดา<wbr>รีจิสเตอร์ที่<wbr>มี<wbr>อยู่<wbr>ทั้ง<wbr>หมด<wbr>ของ
8086 เป็น<wbr>รีจิสเตอร์ขนาด 16 บิต รีจิสเตอร์ ax จะ<wbr>ประกอบ ด้วย ah และ al โดย
ax ทำ<wbr>หน้า<wbr>ที่<wbr>ใน<wbr>การ<wbr>ใช้<wbr>คูณ<wbr>หาร<wbr>หรือ<wbr>เป็น<wbr>รีจิสเตอร์ เกี่ยวกับอินพุตเอาต์พุต ที่<wbr>เป็น<wbr>เวิร์ด
al ทำ หน้า<wbr>ที่ใข้ใน<wbr>การ<wbr>คำนวณ คูณ<wbr>หาร หรือ<wbr>ทำ<wbr>งาน<wbr>เกี่ยวกับอินพุต เอาต์พุท แปลง
ข้อ<wbr>มูล<wbr>จัด<wbr>การ<wbr>คำนวณ<wbr>แบบ<wbr>ตัว<wbr>เลข ฐาน<wbr>สิบ<wbr>แบบ 8 บิต ส่วน ah ใช้<wbr>เป็น<wbr>รีจิสเตอร์ใน<wbr>การ<wbr>คูณ<wbr>และ
หาร<wbr>ได้ bx ใช้<wbr>ใน<wbr>การ<wbr>แปลง<wbr>ข้อ<wbr>มูล cx ใช้<wbr>ใน<wbr>คำ<wbr>สั่ง จัด<wbr>การ<wbr>เกี่ยวกับสตริง และ<wbr>การลู<wbr>ป
cl ใช้<wbr>เป็น<wbr>ตัว<wbr>แปรสำหรับ<wbr>การ<wbr>เลื่อน<wbr>บิตหรือ<wbr>หมุน<wbr>บิต dx ใช้<wbr>ใน<wbr>คำ<wbr>สั่ง<wbr>คูณ หาร<wbr>เป็น<wbr>เวิร์ด<wbr>หรือ<wbr>ใช้<wbr>ใน<wbr>รูป<wbr>แบบ<wbr>อ้างอินพุตเอาต์พุตแบบ<wbr>อ้อม
sp ใช้กับคำ<wbr>สั่งสแตก si และ di ใช้กับคำ<wbr>สั่ง<wbr>ที่<wbr>เกี่ยวกับสตริง<wbr></font></font></font></dd>

<center>
<p><img src="86reg.jpg" border=2 height=623 width=430><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<p><font face="ms sans serif"><font color="#000000"><font size=-1>รูป<wbr>แสดง<wbr>รีจิสเตอร์ที่<wbr>ใช้<wbr>ใน<wbr>ไมโคร<wbr>โปรเซสเซอร์
8086</font></font></font></center>

<p><b><font face="ms sans serif"><font color="#3333ff"><font size=-1>รีจิสเตอร์ใช้<wbr>งาน<wbr>ทั่ว<wbr>ไป<wbr>ของ
8086</font></font></font></b>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>รีจิสเตอร์ใน
8086 ประกอบ<wbr>ด้วย รีจิสเตอร์ต้น<wbr>ทางหรือ source และ รีจิสเตอร์ ปลาย<wbr>ทางหรือ
destination bx(base) , sp (stack pointer), bp (base pointer), si (source
index) และ di (destination index) ซึ่ง<wbr>สามารถ<wbr>ที่<wbr>จะ<wbr>นำ<wbr>มา<wbr>เป็น<wbr>ตัว<wbr>อ้าง address
ได้ ดัง<wbr>รูป<wbr><wbr></font></font></font></dd>

<center>
<p><img src="86regadd.jpg" border=2 height=620 width=676><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<p><font face="ms sans serif"><font color="#000000"><font size=-1>รูป<wbr>แสดง<wbr>โครง<wbr>สร้าง<wbr>รีจิสเตอร์ของ
8086 กับการ<wbr>คำนวณ<wbr>แอดเดรส<wbr><wbr></font></font></font></center>

<p>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>รีจิสเตอร์ขนาด
16 บิต ภ ตัว<wbr>ซึ่ง<wbr>ได้<wbr>แก่ ax (accumulator) , bx (base) , cx (counter) และ
dx (data) ยัง<wbr>ถูก<wbr>แบ่ง<wbr>ออก<wbr>เป็น<wbr>ครึ่ง<wbr>บน (ah, bh, ch และ<wbr><wbr>dh) และ<wbr>ครึ่ง<wbr>ล่าง (al,
bl, cl และ dl) รีจิสเตอร์เหล่า<wbr>นี้<wbr>อาจ<wbr>จะ<wbr>ทำ<wbr>งาน<wbr>ใน<wbr>ลักษณะ<wbr><wbr>&nbsp; เป็น<wbr>เวิร์ด<wbr>หรือไบต์ก็<wbr>ได้
ใน<wbr>กลุ่ม<wbr>นี้<wbr>ถือ<wbr>ว่า<wbr>เป็น<wbr>รีจิสเตอร์ ข้อ<wbr>มูล รีจิสเตอร์ใน<wbr>กลุ่ม pointer และ index
มัก<wbr>จะ<wbr>นำ ไป<wbr>ใช้<wbr>ใน<wbr>การ<wbr>อ้าง address และ<wbr>ยัง<wbr>ใช้<wbr>ใน<wbr>การก<wbr>ระ<wbr>ทำ ทางคณิต ศาสตร์<wbr>และลอจิก<wbr>ได้<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>รีจิสเตอร<wbr>์
bp และ sp มัก<wbr>จะ<wbr>ใช้<wbr>ใน<wbr>การ<wbr>ชี้สแตก เพื่อ<wbr>จะ<wbr>ทำ<wbr>การ<wbr>เก็บ<wbr>ตำแหน่ง address กลับ<wbr>จาก
โปรแกรม<wbr>ย่อย โดย<wbr>ใช้<wbr>หลัก<wbr>การ<wbr>เหมือนสแตก<wbr>ของ cpu 8 บิต ส่วน bp นั้น<wbr>จะ<wbr>ใช้<wbr>สำหรับ<wbr>เป็น
ตัว<wbr>บวก เพื่อ<wbr>ชี้<wbr>ค่าสแตก<wbr>อีก<wbr>ที<wbr>หนึ่ง เพื่อ<wbr>จะ<wbr>เป็น<wbr>วิธี<wbr>ที่<wbr>จะ<wbr>อำนวย<wbr>ความ<wbr>สะดวก<wbr>ใน<wbr>การ<wbr>ส่ง<wbr>ค่า
พา<wbr>รา<wbr>มิเตอร์<wbr>เข้า<wbr>สู่<wbr>โปรแกรม<wbr>โดย<wbr>ผ่าน<wbr>ทาง สแตก ซึ่ง<wbr>ช่วย<wbr>ใน การ<wbr>ส่ง<wbr>ค่า<wbr>ของ<wbr>ตัว<wbr>แปรระหว่าง<wbr>โปรแกร<wbr>ได้<wbr>ดี
รีจิสเตอร์ si และ<wbr><wbr>di จะ<wbr>ทำ<wbr>การ<wbr>ติด<wbr>ต่อกับหน่วย<wbr>ความ<wbr>จำ<wbr>ได้ ซึ่ง<wbr>จะ<wbr>ใช้<wbr>งาน<wbr>ได้<wbr>ดี<wbr>ใน<wbr>กลุ่ม<wbr>คำ<wbr>สั่ง<wbr>พวก
สตริงและ<wbr>การ ทำ<wbr>งาน<wbr>เป็น block หรือ การ<wbr>เชื่อม<wbr>โยง<wbr>ข้อ<wbr>มูล<wbr>ใน<wbr>โครง<wbr>สร้าง<wbr>แบบ array</font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>ใน<wbr>การ fetch
คำ<wbr>สั่ง<wbr>ของ 8086 จะ<wbr>ใช้ ip (instruction pointer) ขนาด 16 บิต เป็น<wbr>ตัว<wbr>ชี้<wbr>ตำแหน่ง
address ของ คำ<wbr>สั่ง<wbr>ถัด<wbr>ไป<wbr>ที่<wbr>จะ<wbr>ถูก<wbr>ทำ<wbr>งาน ซึ่ง<wbr>ความ<wbr>จริง<wbr>แล้ว<wbr>ค่า<wbr>ใน ip ไม่<wbr>ได้<wbr>กำหนด<wbr>ตำแหน่ง<wbr>โดย<wbr>ตรง
แต่<wbr>จะ มี<wbr>การ<wbr>คำนวณ<wbr>มา<wbr>ก่อน<wbr><wbr></font></font></font></dd>
<font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>8086 เป็น
flag สถานะ<wbr>จำนวน 6 บิต และ flag ควบ<wbr>คุม<wbr>จำนวน 3 บิตซึ่ง<wbr>บรรจุ<wbr>อยู่<wbr>ใน<wbr>รีจิสเตอร์ขนาด
16 บิต<wbr></font></font></font></dd>

<center>
<p><img src="86flag.jpg" border=2 height=200 width=550><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<br><font face="ms sans serif"><font color="#000000"><font size=-1>รูป<wbr>แสดง
flag ของ 8086 ที่<wbr>ใช้<wbr>ใน<wbr>การ<wbr>ทด<wbr>สอบ<wbr>การ<wbr>ทำ<wbr>งาน<wbr>ของ cpu</font></font></font></center>
<p>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>flag ได้<wbr>ถูก<wbr>ออก<wbr>แบบ<wbr>มา<wbr>เพื่อ<wbr>แสดง<wbr>ผล<wbr>ของ<wbr>การก<wbr>ระ<wbr>ทำ<wbr>ทางคณิต<wbr>ศาสตร์<wbr>และลอจิก<wbr>สถานะ<wbr>ที่<wbr>เป็น ไป<wbr>ได้<wbr>ของ flag จะ<wbr>มี<wbr>สอง<wbr>สถานะ คือ ถูก เซต<wbr>ทำ<wbr>ให้<wbr>มี<wbr>ค่า<wbr>เป็น
1หรือ<wbr>ถูก<wbr>รี<wbr>เซต<wbr>ให้<wbr>มี<wbr>ค่า<wbr>เป็น 0 แฟล็กตัว<wbr>ทด (carry flag) จะ<wbr>แสดง ลักษณะ<wbr>บอก<wbr>การ<wbr>ทด<wbr>หรือ
การ<wbr>ขอ<wbr>ยืม<wbr>ของ<wbr>บิตสูง<wbr>สุด<wbr>ของ<wbr>ผล<wbr>ลัพธ์ , แฟล็กพา<wbr>ริตี้ (parity flag) จะ<wbr>ใช้<wbr>แสดง<wbr>จำนวน<wbr>คู่<wbr>หรือ<wbr>คี่<wbr>ของ<wbr>ตัว<wbr>เลข<wbr>ที่<wbr>เป็น
1 ใน<wbr>รีจิสเตอร์ ถ้า<wbr>เป็น<wbr>คู่ flag นี้<wbr>จะ<wbr>ถูก<wbr>เซต<wbr>เป็น 1, แฟล็กทด<wbr>ช่วย (auxiliary
carry flag) จะ<wbr>ใช้<wbr>งาน<wbr>แบบ "decimal adjust", แฟล็กศูนย์ (zero flag) จะ<wbr>เป็น
1 เมื่อ<wbr>ผล<wbr>ลัพธ์<wbr>เป็น<wbr>ศูนย์ , แฟล็ก เครื่องหมาย (sign flag) จะ<wbr>ได้<wbr>รับ การ<wbr>เซต<wbr>เมื่อ<wbr>ผล<wbr>ลัพธ์<wbr>เป็น<wbr>เลข<wbr>ลบ
, โอเวอร์โฟลว์แฟล็ก (of) ใช้<wbr>เพื่อ<wbr>แสดง<wbr>ว่า<wbr>มี<wbr>ความ<wbr>ผิด<wbr>พลาด ใน<wbr>การ<wbr>คำนวณ เนื่อง<wbr>จาก<wbr>การ<wbr>ใส่เครื่องหมาย<wbr>ของ<wbr>ผล<wbr>ลัพธ์
เช่น<wbr><wbr>&nbsp; ถ้า<wbr>มี<wbr>การ<wbr>บวก<wbr>เลข +127 กับ +2 ผล<wbr>ลัพธ์<wbr>ที่<wbr>ได้<wbr>ถ้า<wbr>คิด<wbr>คำนวณ<wbr>แบบ<wbr>มีเครื่องหมาย<wbr>จะ<wbr>ได้<wbr>คำ<wbr>ตอบ<wbr>เป็น
-127 ซึ่ง<wbr>ผิด<wbr>ความ<wbr>หมาย ลักษณะ นี้<wbr>จะ<wbr>เกิด<wbr>การ โอเวอร์โฟลว์ให้แฟล็ก<wbr>
เป็น 1</font></font></font></dd>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>แฟล็กควบ<wbr>คุม<wbr>ทิศ<wbr>ทางของ
8086 (direction flag)จะ<wbr>กำหนด<wbr>ทิศ<wbr>ทางของ<wbr>กลุ่ม<wbr>คำ<wbr>สั่ง<wbr>เกี่ยวกับสตริง ว่า<wbr>จะ<wbr>มี<wbr>ทิศ<wbr>ทา<wbr>ง
การ<wbr>ทำ<wbr>งาน<wbr>จาก<wbr>แอดเดรส<wbr>มาก<wbr>ไป<wbr>น้อย หรือ<wbr>จาก<wbr>แอดเดรส<wbr>น้อย<wbr>ไป<wbr>มาก<wbr>นั่น<wbr>เอง , แฟล็กอินเตอร์รัพท<wbr>์
(ie) ถ้า<wbr>ได้ รับ<wbr>การ<wbr>เซต<wbr>เป็น 1</font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>แสดง<wbr>ว่า<wbr>จะ<wbr>ยอม<wbr>รับอินเตอร์รัพท์จาก<wbr>ภาย<wbr>นอก
และ tap flag (tf) จะ<wbr>ทำ<wbr>ให้ 8086 ทำ<wbr>งาน แบบ<wbr>ที<wbr>ละ<wbr>คำ<wbr>สั่ง<wbr>เพื่อ<wbr>การ<wbr>แก้<wbr>ไข<wbr>โปรแกรม<wbr><wbr></font></font></font><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<p><b><font face="ms sans serif"><font color="#3333ff"><font size=-1>เซกเมนต์<wbr>รีจิสเตอร์<wbr></font></font></font></b>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>มี 4 ตัว
คือ cs(code segment) , ds(data segment) , ss(stack segment), es(extra segment)
ซึ่ง จะ<wbr>นำ<wbr>มา<wbr>ใช้<wbr>ใน<wbr>หลัก<wbr>การ<wbr>แบบ<wbr>บล็อก<wbr>แอดเดรส<wbr>ของ 8086 หน่วย ความ<wbr>จำ<wbr>ได้<wbr>รับ<wbr>การ<wbr>จัด<wbr>สรร<wbr>เป็น<wbr>ส่วน<wbr>ใหญ่
ๆ คือ code (หรือ<wbr>ชุด<wbr>คำ<wbr>สั่ง) ,ข้อ<wbr>มูล (ตัว<wbr>เลข หรือ<wbr>ตัว<wbr>อักษร) และสแตก<wbr>สำหรับ<wbr>การ<wbr>เก็บ<wbr>ค่า<wbr>แอดเดรส<wbr>กลับ<wbr>คืน<wbr>จาก<wbr>โปรแกรม<wbr>ย่อย<wbr>เพื่อ<wbr>ที่<wbr>จะ
ป้อง<wbr>กัน<wbr>การ<wbr>สับ<wbr>สน จึง<wbr>กำหนด<wbr>ค่า<wbr>ให้ แยก<wbr>กัน<wbr>ได้<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>8086 จะ<wbr>มอง<wbr>ลักษณะ<wbr>ของ<wbr>หน่วย<wbr>ความ<wbr>จำ
โดย<wbr>แบ่ง<wbr>หน่วย<wbr>ความ<wbr>จำ<wbr>เป็น<wbr>กลุ่ม ๆ ใน<wbr>รูป<wbr>แบบ<wbr>ของ เซกเมนต์ ใน<wbr>หนึ่ง เซกเมนต์<wbr>จะ<wbr>ชี้<wbr>ได้<wbr>ถึง
64 กิโลไบต์ เซกเมนต์<wbr>ทั้ง<wbr>สี่<wbr>ตัว จะ<wbr>แสดง<wbr>แอดเดรส<wbr>เริ่ม ต้น<wbr>ของ<wbr>หน่วย<wbr>ความ<wbr>จำ<wbr>ที่<wbr>จะ<wbr>ติด<wbr>ต่อ<wbr>ด้วย
ดัง<wbr>รูป cs จะ<wbr>บรรจุ<wbr>ค่า<wbr>แสดง<wbr>แอดเดรส<wbr>เริ่ม<wbr>ต้น<wbr>ของ<wbr>โปรแกรม ds จะ<wbr>เก็บ<wbr>ค่า data segment
ขณะ<wbr>นั้น ss จะ เก็บ<wbr>ค่าสแตก<wbr>เซกเมนต์ ขณะ<wbr>นั้น<wbr>และ es จะ<wbr>กำหนด segment ของ<wbr>ข้อ<wbr>มูล<wbr>รวม<wbr>ที่<wbr>เรียก<wbr>ว่า
global data segment</font></font></font></dd>

<center>
<p><img src="861_9.jpg" border=2 height=268 width=410></center>

<p>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>เซกเมนต์<wbr>จะ<wbr>แสดง<wbr>ตำ<wbr>แน่ง<wbr>เหมือนกั<wbr>บ
paragraph โดย<wbr>จะ<wbr>เลื่อน<wbr>ไป<wbr>ทางซ้าย 4 บิต เพื่อ<wbr>ที่<wbr>จะ<wbr>กำหนด หรือ<wbr>อ้าง แอดเดรส<wbr>ให้<wbr>ครบ
20 เส้น โดย<wbr>จุด<wbr>เริ่ม<wbr>ต้น<wbr>ของ paragraph จะ<wbr>ต้อง<wbr>มี 4 บิต หลัง<wbr>สุด<wbr>เป็น 0 เช่น เป็น
00000h, 00010h , 00020h เป็น<wbr>ต้น<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>จาก<wbr>รูป ค่า<wbr>ของ
ss จะ<wbr>ชี้<wbr>ตำแหน่ง<wbr>ของ<wbr>เซกเมนต์<wbr>ค่า d89f0 สังเกต<wbr>เห็น<wbr>ว่า<wbr>ส่วน<wbr>พื้น<wbr>ที่ ของ<wbr>หน่วย ความ<wbr>จำ<wbr>อาจ<wbr>จะ
สลับ<wbr>หรือ<wbr>ใช้<wbr>บริเวณ<wbr>เดียว<wbr>กัน<wbr>ของ<wbr>หน่วย<wbr>ความ<wbr>จำ<wbr>ได้<wbr><wbr></font></font></font></dd>

<center>
<p><img src="861_10.jpg" border=2 height=260 width=430></center>


<p>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>เพื่อ<wbr>ที่<wbr>จะ<wbr>ทำ<wbr>การ<wbr>ติด<wbr>ต่อกับข้อ<wbr>มูล<wbr>หนึ่งไบต์หรือ<wbr>หนึ่ง<wbr>เวิร์ด<wbr>นั้น
8086 ได้<wbr>เตรียม<wbr>ค่า<wbr>ออฟเซต เพื่อ<wbr>ใช้<wbr>อ้าง ตำหน่งตั้ง<wbr>แต่ จุด<wbr>เริ่ม<wbr>ต้น<wbr>ของ<wbr>เซกเมนต์<wbr>แอดเดรส
ตำแหน่ง<wbr>ใด ๆ จะ<wbr>ได้<wbr>มา<wbr>จาก<wbr>การ<wbr>บวก<wbr>ค่า เซกเมนต์ รีจิสเตอร์กับค่า<wbr>ของ<wbr>ออฟเซต 16 บิต<wbr></font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>เช่น<wbr>ถ้า<wbr>เซกเมนต์<wbr>มี<wbr>ค่า
e89f จะ<wbr>ให้<wbr>ออฟเซต<wbr>มี<wbr>ค่า 0003h จะ<wbr>ทำ<wbr>ให้<wbr>การ<wbr>อ้าง<wbr>แอดเดรส<wbr>ไป<wbr>ที่ 89f3</font></font></font>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>การ<wbr>จะ<wbr>ใช้<wbr>เซกเมนตฺรีจิสเตอร์และ<wbr>ค่า<wbr>ออฟเซต<wbr>ตัว<wbr>ใด<wbr>นั้น<wbr>จะ<wbr>ขึ้น<wbr>อยู่กับชนิด<wbr>ของ<wbr>คำ<wbr>สั่ง<wbr>ด้วย
ดัง<wbr>แสดง<wbr>ใน<wbr>ตา<wbr>ราง<wbr><wbr></font></font></font></dd>

<ul>
<ul>
<center><table border cellpadding=2 bgcolor="#c0c0c0" >
<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ชนิด<wbr>ของ<wbr>การ<wbr>อ้าง<wbr>หน่วย<wbr>ความ<wbr>จำ<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ค่า<wbr>เซกเมนต์<wbr>โดย<wbr>ปกติ<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ค่า<wbr>เซกเมนต์<wbr>ที่<wbr>เลือก<wbr>ได้<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ค่า<wbr>ออฟเซต<wbr><wbr>&nbsp;</font></font></font></center>
</td>
</tr>

<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>การเฟตช์คำ<wbr>สั่ง<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>cs</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>-</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ip</font></font></font></center>
</td>
</tr>

<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>การ<wbr>ทำสแตก<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ss</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>-</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>sp</font></font></font></center>
</td>
</tr>

<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>กำหนด<wbr>ตัว<wbr>แปร<wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ds</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>cs,es,ss</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ค่า<wbr>แอดเดรส<wbr>ที่<wbr>กำหนด<wbr><wbr></font></font></font></center>
</td>
</tr>

<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>สติ<wbr>รง<wbr>ต้น<wbr>ทาง<wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ds</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>cs,es,ss</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>si</font></font></font></center>
</td>
</tr>

<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>สตริงปลาย<wbr>ทาง<wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>es</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>-</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>di</font></font></font></center>
</td>
</tr>

<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>เบส<wbr>รีจิสเตอร<wbr>์
bp</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ss</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>cs,es,ss</font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ค่า<wbr>แอดเดรส<wbr>ที่<wbr>กำหนด<wbr><wbr></font></font></font></center>
</td>
</tr>
</table></center>
</ul>
</ul>
<font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<p><b><u><font face="ms sans serif"><font color="#3333ff"><font size=-1>การ<wbr>จัด<wbr>ขา<wbr>ของ
8086</font></font></font></u></b>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>8086 เป็น<wbr>ไมโคร<wbr>โปรเซสเซอร์<wbr>ที่<wbr>มี<wbr>ขา<wbr>เพียง
40 ขา<wbr>เท่า<wbr>นั้น โดย<wbr>แบ่ง<wbr>เป็น<wbr>ขา<wbr>แอดเดรส<wbr>ที่ multiplex ร่วมกับขา<wbr>ข้อ<wbr>มูล 16 ขา คือ
ad<sub>0</sub> - ad<sub>15</sub>และ<wbr>ยัง<wbr>มี<wbr>แอดเดรส<wbr>เพิ่ม<wbr>ขึ้น<wbr>มา อีก 4 ขา คือ
a<sub>16</sub> - a<sub>19</sub> ซึ่ง multiplex กับ s<sub>3</sub> - s<sub>6
</sub>นอก<wbr>จาก<wbr>นี้<wbr>จะ<wbr>เป็น<wbr>ขา ที่<wbr>เป็น สัญญาณ<wbr>ควบ<wbr>คุม<wbr>อื่น ๆ การ<wbr>จัด<wbr>ขา<wbr>ทั้ง<wbr>หมด แสดง<wbr>ดัง<wbr>รูป<wbr><wbr></font></font></font></dd>

<center>
<p><img src="86pin.jpg" border=2 height=400 width=236></center>
<p>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>เนื่อง<wbr>จาก
8086 มี บัสขนาด 16 บิต แต่<wbr>ยัง<wbr>คง<wbr>ติด<wbr>ต่อกับข้อ<wbr>มูล<wbr>ใน<wbr>ลักษณะ<wbr>เป็นไบต์ ดัง<wbr>นั้น<wbr>ใน<wbr>ข้อ<wbr>มูล
16 บิต จึง<wbr>แบ่ง<wbr>เป็นไบต์สูง<wbr>และไบต์ต่ำ โครง<wbr>สร้าง<wbr>การ<wbr>เชื่อม<wbr>ต่อกับหน่วย<wbr>ความ<wbr>จำ<wbr>จึง<wbr>แยก<wbr>ด้วย
/bhe หรือ<wbr>สัญญาณ<wbr>เลือกไบต์สูง<wbr><wbr></font></font></font></dd>

<ul>
<ul>
<ul>
<table border >
<tr>
<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ขา<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>หน้า<wbr>ที่<wbr><wbr></font></font></font></center>
</td>

<td>
<center><font face="ms sans serif"><font color="#000000"><font size=-1>ชนิด<wbr><wbr></font></font></font></center>
</td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>ad<sub>0</sub>
- ad<sub>15</sub></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บัสแอดเดรส<wbr>และ<wbr>ข้อ<wbr>มูล<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>2 ทิศ<wbr>ทางแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>a<sub>16</sub>/s<sub>3</sub>
- a<sub>17</sub>/s<sub>4</sub></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>แอดเดรส<wbr><wbr>/ตัว<wbr>บอก<wbr>เซกเมนต์<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>a<sub>18</sub>/s<sub>5</sub></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>แอดเดรส<wbr><wbr>/ตัวอินเตอร์รัพท์อี<wbr>นาเบิล<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุทแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>a<sub>19</sub>/s<sub>6</sub></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>แอดเดรส<wbr><wbr>/บิตแสดง<wbr>สถานะ<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/bhe/s<sub>7</sub></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บิ<wbr>ตบ<wbr>อก<wbr>ข้อ<wbr>มูลไบต์บน<wbr><wbr>/บิตแสดง<wbr>สถานะ<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>rd</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บิตควบ<wbr>คุม<wbr>การ<wbr>อ่าน<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>ready</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บิตควบ<wbr>คุม<wbr>จังหวะ<wbr>การ
wait</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/test</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บิ<wbr>ตบ<wbr>อก<wbr>การ<wbr>รอ<wbr>คอย<wbr>สำหรับ<wbr>การ<wbr>ทด<wbr>สอบ<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>intr</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินเตอร์รัพท์<wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>nmi</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>นอน<wbr>มาสเคเบิลอินเตอร์รัพท์<wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>reset</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>รี<wbr>เซต<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>clk</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>สัญญาณ<wbr>นาฬิกา<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>mn/mx</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>ถ้า<wbr>เป็น
0 หมาย<wbr>ถึง<wbr>ระบบ<wbr>เป็น<wbr>ชนิด<wbr><wbr>&nbsp;</font></font></font><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font>
<p><font face="ms sans serif"><font color="#000000"><font size=-1>maximum
system</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>s<sub>0</sub>s<sub>1</sub>s<sub>2</sub></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บอก<wbr>สถานะ
machine cycle</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/rq/gto,/rq/gti</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บิตควบ<wbr>คุม<wbr>ลำ<wbr>ดับ<wbr>สำคัญ<wbr>ของบัส<wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>สอง<wbr>ทิศ<wbr>ทาง<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>gso,qsi</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บิตแสดง<wbr>คิว<wbr>ของ<wbr>คำ<wbr>สั่ง<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/lock</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บัสควบ<wbr>คุม
hold</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>m/io</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เลือก<wbr>หน่วย<wbr>ความ<wbr>จำ<wbr>หรืออินพุตเอาต์พุต<wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/wr</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เขียน<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/ale</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>แลทช์แอดเดรส<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>dt/r</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>รับ<wbr>ส่ง<wbr>ข้อ<wbr>มูล<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/den</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>การ<wbr>อี<wbr>นาเบิ้ลข้อ<wbr>มูล<wbr><wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุตแบบลอจิก<wbr>สาม<wbr>สถานะ<wbr><wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>/inta&nbsp;</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>ตอบ<wbr>รับอินเตอร์รัพท์<wbr></font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>hold</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>บอก<wbr>การ
hold</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>อินพุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>holda</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>ตอบ<wbr>รับ<wbr>การ
hold</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>เอาต์พุต<wbr></font></font></font></td>
</tr>

<tr>
<td><font face="ms sans serif"><font color="#000000"><font size=-1>v<sub>cc</sub>
gnd</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1>แหล่ง<wbr>จ่าย<wbr>ไฟ
ground</font></font></font></td>

<td><font face="ms sans serif"><font color="#000000"><font size=-1></font></font></font></td>
</tr>
</table>
</ul>
</ul>
</ul>

<p><b><u><font face="ms sans serif"><font color="#3333ff"><font size=-1>อินเตอร์รัพท์ของ
8086</font></font></font></u></b>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>อินเตอร์รัพท์ของ
8086 สามารถ<wbr>จะมจาก<wbr>หลาย ๆ แหล่ง<wbr>ได้อินเตอร์รัพท์อาจ<wbr>จะ มา<wbr>จาก อุปกรณ์ ภาย<wbr>นอก
มา<wbr>โดย<wbr>ทาง software หรือ<wbr>มา<wbr>จาก<wbr>ตัว 8086 เอง<wbr>ก็<wbr>ได้ อินเตอร์รัพท์จาก<wbr>อุปกรณ์<wbr>ภาย<wbr>นอก
เข้า<wbr>มา<wbr>ทางขา 2 ขา คือ intr(interrupt</font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>request)
และ nmi(non-maskable interrupt) โดย<wbr>ที่ intr จะ<wbr>ถูก<wbr>กำหนด<wbr>ให้<wbr>ทำ<wbr>งาน<wbr>ได้<wbr>โดย<wbr>คำ<wbr>สั่ง
ie(interrupt enable flag) ที่<wbr>เป็น<wbr>ส่วน<wbr>หนึ่ง<wbr>ของ 8086 flag ถ้า flag ie ถูก<wbr>เซต<wbr>จะ
ทำ<wbr>ให้ 8086 สามารถ<wbr>จะ<wbr>รับอินเตอร์รัพท์จาก intr ได้ แต่<wbr>ถ้า<wbr><wbr></font></font></font>
<br><font face="ms sans serif"><font color="#000000"><font size=-1>if ถูก<wbr>เคลียร<wbr>์
8086 จะ ไม่<wbr>รับอินเตอร์รัพท์จาก intr ส่วน nmi จะ<wbr>เป็นอินเตอร์รัพท์ที่<wbr>ไม่<wbr>สามารถ<wbr>จะ<wbr>หยุด<wbr>ได้
มัก<wbr>จะ ใช้<wbr>ใน<wbr>กรณี<wbr>ที่<wbr>เกิด<wbr>เหตุ<wbr>การณ์<wbr>สำคัญ<wbr>เช่น<wbr>เกิด<wbr>ความ<wbr>ผิด<wbr>พลาด<wbr>ของ<wbr>พา<wbr>ริตี้ของ หน่วย<wbr>ความ<wbr>จำ
(memory parity) หรือ<wbr>เกิด<wbr>ไฟ<wbr>ตก เป็น<wbr>ต้น<wbr><wbr></font></font></font>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>into (interrupt
overflow) คือ อินเตอร์รัพท์ของ 8086 ที่<wbr>เกิด<wbr>จาก<wbr>ข้อ<wbr>ผิด<wbr>พลาด<wbr>ของ<wbr>การ<wbr>หาร<wbr>และ การ<wbr>ทำ<wbr>งาน<wbr>ที<wbr>ละ<wbr>ขั้น
ข้อ<wbr>ผิด<wbr>พลาด<wbr>จาก<wbr>การ<wbr>หาร (divide error) เกิด<wbr>ขึ้น<wbr>เนื่อง<wbr>จาก<wbr>ผล<wbr>ของ<wbr>การ<wbr>หาร<wbr>อาจ<wbr>จะ<wbr>มี<wbr>ค่า<wbr>มาก<wbr>กว่า<wbr>เนื้อ<wbr>ที่<wbr>ที่<wbr>เตรียม<wbr>ไว้<wbr>เป็น<wbr>ที่<wbr>เก็บ<wbr><wbr></font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>ผล<wbr>ลัพธ์
หรือ<wbr>อาจ<wbr>จะ<wbr>เกิด<wbr>จาก<wbr>การ<wbr>หาร<wbr>ด้วย<wbr>เลข 0 หรือ<wbr>อาจ<wbr>จะ<wbr>เกิด<wbr>การ<wbr>หาร<wbr>ด้วย<wbr>เลข 1 หรือ<wbr>ด้วย เลข<wbr>มาก
ๆ ส่วน<wbr>ลักษณะ<wbr>ของ<wbr>การ<wbr>ทำ<wbr>งาน<wbr>ที<wbr>ละ<wbr>ขั้น (single step) จะ<wbr>เป็นอินเตอร์รัพท์ ที่<wbr>เกิด<wbr>เนื่อง<wbr>จาก
execute คำ<wbr>สั่ง<wbr>ที<wbr>ละ<wbr>คำ<wbr>สั่ง<wbr>เหตุ<wbr>การณ์<wbr>นี้<wbr>เกิด<wbr>ขึ้น<wbr>เนื่อง<wbr>จาก tf (trap flag) ใน<wbr>รีจิสเตอร์แฟล็กถูก<wbr>เซต<wbr>ให้<wbr>เป็น
1</font></font></font>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>เมื่อ<wbr>เกิดอินเตอร์รัพท์เหล่า<wbr>นี้<wbr>ขึ้น<wbr>มา<wbr>แล้ว<wbr>ก็<wbr>จะ<wbr>เกิด<wbr>เหตุ<wbr>การณ์<wbr>เฉพาะ<wbr>อย่าง<wbr>ขึ้น<wbr>ถ้า<wbr>มี<wbr>กา<wbr>รอ<wbr><wbr>ินเตอร์รัพท<wbr>์
จาก<wbr>ภาย<wbr>นอก คำ<wbr>สั่ง<wbr>ชุด<wbr>สุด<wbr>ท้าย<wbr>จะ<wbr>ถูก execute จน<wbr>เสร็จ<wbr>สิ้น<wbr>ก่อน (ยก<wbr>เว้น ถ้า<wbr>เป็น<wbr>คำ<wbr>สั่ง
mov หรือ pop จะ<wbr>มี<wbr>การ execute คำ<wbr>สั่ง<wbr>ต่อ<wbr>ไป<wbr>ก่อน<wbr><wbr></font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>แล้ว<wbr>จึง<wbr>หยุด)
อินเตอร์รัพท์ทุก<wbr>ตัว<wbr>จะ<wbr>ทำ<wbr>การ เก็บ<wbr>ค่า ของแฟล็กรีจิสเตอร์ไว้<wbr>ในสแตก เสร็จ<wbr>แล้ว
8086 จะ<wbr>ทำ<wbr>การ<wbr>รี<wbr>เซตแฟล็ก if และ tf ให้<wbr>เป็น 0 ทั้ง<wbr>นี้<wbr>เพื่อ<wbr>ป้อง<wbr>กัน intr อินพุตที่<wbr>เข้า<wbr>มา<wbr>ใหม่
และ<wbr>ป้อง<wbr>กัน<wbr>การ<wbr>เกิด<wbr>การ<wbr>ทำ<wbr>งาน<wbr>ที<wbr>ละ<wbr>ขั้น<wbr>ใน<wbr>ขณะ<wbr>ที่<wbr>อยู่<wbr>ใน<wbr><wbr></font></font></font>
<br><font face="ms sans serif"><font color="#000000"><font size=-1>โปรแกรมอินเตอร์รัพท<wbr>์
เนื่อง<wbr>จาก<wbr>การ<wbr>ที่แฟล็กถูก<wbr>เก็บ<wbr>ค่า<wbr>ไว้<wbr>หลัง<wbr>จาก<wbr>โปรแกรมอินเตอร์รัพท์ สิ้น<wbr>สุด<wbr>แล้ว<wbr>ค่า<wbr>ต่าง
ๆ ที่<wbr>เก็บ<wbr>ไว้<wbr>จะ<wbr>ถูก<wbr>ดึง<wbr>กลับ<wbr>มา<wbr>ใช้<wbr>งาน<wbr>ได้ จาก<wbr>นั้น 8086 จะ<wbr>ทำ<wbr>การ<wbr>เก็บ<wbr>ค่า<wbr>ของ cs และ
ip ลง<wbr>บนสแตก<wbr>เพื่อ<wbr>ที่<wbr>จะ<wbr>เก็บ<wbr>ตำแหน่ง<wbr><wbr></font></font></font>
<br><font face="ms sans serif"><font color="#000000"><font size=-1>ของ<wbr>แอดเดรส<wbr>ที่<wbr>ส่ง<wbr>กลับ
(return address) ใน<wbr>ลักษณะ<wbr>เดียว กับคำ<wbr>สั่ง far call และ<wbr>ใน<wbr>ขั้น<wbr>ตอน<wbr>สุด<wbr>ท้าย cs
และ ip จะ<wbr>ถูก<wbr>อ่าน<wbr>จาก ตา<wbr>ราง<wbr>ของ interrupt vector (ขึ้นกับหมาย<wbr>เลขอินเตอร์รัพท์)
ตา<wbr>ราง<wbr>ของ interrupt vector ก็<wbr>คือบริวเณของ<wbr><wbr></font></font></font>
<br><font face="ms sans serif"><font color="#000000"><font size=-1>เนื้อ<wbr>ที่<wbr>ของ<wbr>หน่วย
ความ<wbr>จำ<wbr>เริ่ม<wbr>ตั้ง<wbr>แต่<wbr>แอดเดรส 0000 จำนวน หนึ่ง<wbr>กิโลไบต์ดัง<wbr>แสดง<wbr>ใน<wbr>รูป<wbr><wbr></font></font></font>
<center>
<p><img src="86inttab.jpg" border=2 height=688 width=488></center>

<p>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>อินเตอร์รัพท์แต่<wbr>ละ<wbr>ตัว<wbr>จะ<wbr>ชี้<wbr>ไป<wbr>ยัง<wbr>ตำแหน่ง<wbr>ที่<wbr>แน่<wbr>นอน
และ<wbr>สามารถ<wbr>ที่<wbr>จะ<wbr>กระ<wbr>โดด ไป<wbr>ถึง<wbr>ที่<wbr>กำหนด ได้<wbr>โดย<wbr>อัตโนมัติ เมื่อ<wbr>เกิดอินเตอร์รัพท์จาก<wbr>ลักษณะ<wbr>ของ
divide error จะ<wbr>ทำ<wbr>ให้ เกิดอินเตอร์รัพท์ 0, single-step จะ<wbr>เป็นอินเตอร์รัพท<wbr>์
1,</font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>อินเตอร์รัพท์แบบ
non- maskable เป็น<wbr>แบบอินเตอร์รัพท์ 2 , bread-oint จะ<wbr>เกิดอินเตอร์รัพท์ 3
, และ<wbr>การ เกิด over flow จะ<wbr>เป็นอินเตอร์รัพท์ 4 ส่วน อินเตอร์ รัพท์ 5 ถึง
31 เตรียม<wbr>ไว้<wbr>สำหรับ ผู้<wbr>ใช้<wbr>จะ<wbr>กำหนด<wbr>เอา<wbr>เอง<wbr>ภาย<wbr>หลัง ส่วนอินเตอร์รัพท์ที่<wbr>เหลือ<wbr>เรา<wbr>อาจ
จะ<wbr>ควบ<wbr>คุม<wbr>โดย<wbr>ใช้ คำ<wbr>สั่ง intr หรือ int ได้<wbr><wbr></font></font></font>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>สำหรับ intr
จะ<wbr>ตอบ<wbr>รับ<wbr>สัญญาณอินเตอร์รัพท์จาก<wbr>ภาย<wbr>นอก แต่<wbr>ส่วน int จะ<wbr>รับ<wbr>ได้<wbr>โดย<wbr>ตัว<wbr>คำ<wbr>สั่ง นั่น<wbr>เอง
8086 สามารถ<wbr>ที่<wbr>จะ<wbr>รับ<wbr>รู้<wbr>ชนิด<wbr>ของ<wbr>การอินเตอร์รัพท์ได้<wbr>โดย<wbr>การ คูณ<wbr>ด้วย 4 ที่<wbr>ค่า<wbr>ของ<wbr>คำ<wbr>สั่ง
ผล<wbr>ลัพธ์<wbr>ที่<wbr>ได้<wbr>จะ<wbr>บอก<wbr>ตำแหน่ง<wbr>ที่<wbr>ของ<wbr>ตา<wbr>ราง<wbr><wbr></font></font></font></dd>

<br><font face="ms sans serif"><font color="#000000"><font size=-1>อินเตอร์รัพท<wbr>์
ซึ่ง<wbr>ค่า<wbr>ของ<wbr>ตา<wbr>ราง<wbr>จะ<wbr>ถูก<wbr>ส่ง<wbr>ค่า<wbr>ไป<wbr>ยัง cs และ ip ค่า<wbr>ต่าง ๆใน<wbr>ตา<wbr>ราง เรา<wbr>จะ<wbr>ต้อง<wbr>เป็น<wbr>ผู้
กำหนด<wbr>โดย<wbr>กำหนด<wbr>เป็น<wbr>ค่า<wbr>ของ<wbr>เซกเมนต์<wbr>และ<wbr>ค่า<wbr>ของ<wbr>ออฟ เซต ที่<wbr>แสดง<wbr>ตำแหน่ง<wbr>ของ อินเตอร์รัพท์รู<wbr>ที<wbr>น
ยก<wbr>ตัว<wbr>อย่าง<wbr>เช่น อินเตอร์รัพท์ที่<wbr>แอดเดรส 0 ถึง 3 เรา<wbr>จะ<wbr>ต้อง<wbr>กำ หนดเป็น<wbr>ค่า<wbr>บอก<wbr>แอดเดรส
cs และ ip เพื่อ<wbr>จะ<wbr>ชี้<wbr>รู<wbr>ทีนของ divide error เป็น<wbr>ต้น<wbr><wbr></font></font></font>
<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>อินเตอร์รัพท์รู<wbr>ที<wbr>น
จะ<wbr>ต้อง<wbr>เริ่ม<wbr>ต้น<wbr>ด้วย<wbr>การ<wbr>เก็บ<wbr>ค่า<wbr>ของ<wbr>รีจิสเตอร์ต่าง ๆไว้<wbr>ก่อน เพราะ เรา<wbr>ไม่<wbr>ทราบ<wbr>ว่า
จะ<wbr>เกิดอินเตอร์รัพท์เมื่อ<wbr>ถึง<wbr>จุด<wbr>ใด และ<wbr>เรา<wbr>ไม่<wbr>ต้อง<wbr>การ<wbr>ทำ<wbr>ให้<wbr>ค่า รีจิสเตอร์ ต่าง
ๆ เสีย<wbr>ไป<wbr>และ<wbr>เรา<wbr>ต้อง ปิด<wbr>ท้าย<wbr>รู<wbr>ทีนด้วย<wbr>คำ<wbr>สั่ง iret คำ<wbr>สั่ง<wbr>นี้<wbr>จะ<wbr>ทำ<wbr>งาน<wbr>เหมือน คำ<wbr>สั่ง
ret ธรรม<wbr>ดา<wbr>แต่<wbr>จะ<wbr>ทำ<wbr>การ<wbr>อ่าน<wbr>ค่า<wbr>ของแฟล็กอ<wbr>อก<wbr>มา จากสแตก<wbr>ด้วย<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>คำ<wbr>สั่ง int
สามารถ<wbr>ตรวจ<wbr>สอบ<wbr>ว่า<wbr>จะ<wbr>ไป<wbr>ที่<wbr>ตำแหน่ง<wbr>ใด<wbr>ได้<wbr>โดย<wbr>ต้อ<wbr>งกำหนดด้วย<wbr>หมาย<wbr>เลข แสดงอิน เตอร์รัพท<wbr>์
ทำ<wbr>ให้<wbr>การ<wbr>เรียก<wbr>ใช้<wbr>งาน<wbr>เป็น<wbr>ไป<wbr>ได้<wbr>โดย<wbr>ง่ายและ<wbr>สะดวก<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>คำ<wbr>สั่ง into
เป็นอินเตอร์รัพท์ที่<wbr>ตรวจ<wbr>สอบ<wbr>เงื่อน<wbr>ไขแฟล็ก over flow นั่น<wbr>คือ<wbr>จะ<wbr>เกิด<wbr>การอินเตอร์รัพท<wbr>์
หมาย<wbr>เลข 4 เมื่อแฟล็ก of เป็น 1 แต่<wbr>ถ้าแฟล็กนี้<wbr>เป็น 0 จะ<wbr>ไม่<wbr>มี อินเตอร์รัพท์แต่<wbr>จะ
execute คำ<wbr>สั่ง ถัด<wbr>ไป<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>มี<wbr>คำ<wbr>สั่ง<wbr>พิเศษ
2 คำ<wbr>สั่ง<wbr>ที่<wbr>ช่วย<wbr>ใน<wbr>การ<wbr>ตรวจ<wbr>สอบ<wbr>โปรแกรม นั่น<wbr>คือ คำ<wbr>สั่ง int 3 เรา<wbr>จะ<wbr>ทำ<wbr>การ<wbr>แทน คำ<wbr>สั่ง<wbr>นี้<wbr>ไป<wbr>ยัง<wbr>ตำแหน่ง<wbr>คำ<wbr>สั่ง<wbr>ที่<wbr>บอก<wbr>จุด<wbr>หยุด
เมื่อ<wbr>มี<wbr>การ execute มา<wbr>ถึง<wbr>คำ<wbr>สั่ง<wbr>ดัง<wbr>กล่าวอินเตอร์รัพท์ รู<wbr>ทีนอาจ<wbr>จะ<wbr>ทำ<wbr>การ<wbr>เก็บ<wbr>ค่า<wbr>รีจิสเตอร์ต่าง
ๆ ลง<wbr>ในสแตก<wbr>หรือ<wbr>ไว้<wbr>ใน<wbr>ตำแหน่ง<wbr>หน่วย<wbr>ความ<wbr>จำ<wbr>ที่ กำหนด<wbr>ได้<wbr><wbr></font></font></font></dd>

<dd>
<font face="ms sans serif"><font color="#000000"><font size=-1>อีก<wbr>วิธี<wbr>หนึ่ง<wbr>ใน<wbr>การ<wbr>ตรวจ<wbr>สอบ
(debug) โปรแกรม อาจ<wbr>ทำ<wbr>ได้<wbr>โดย<wbr>การ<wbr>เซตแฟล็กแทร็ป (trap flag) ไว้ เมื่อแฟล็กแทร็ปเป็น
1 แล้ว 8086 จะ<wbr>จัด<wbr>การ<wbr>ทำ<wbr>ให้<wbr>เกิด int 1 (single-setp) ขึ้น<wbr>ต่อ<wbr>ทุก<wbr>คำ<wbr>สั่ง<wbr>ยก<wbr>เว้น
คำ<wbr>สั่ง mov หรือ pop ที่<wbr>ติด<wbr>ต่อกับรีจิสเตอร<wbr>์
เซกเมนต์<wbr><wbr></font></font></font>
<p>
<hr width="100%">
<i><font face="ms sans serif"><font size=-2>รวบรวมจาก บทเรียน online วิชา 204323 ไมโครโปรเซสเซอร์และการออกแบบไมโครคอมพิวเตอร์ รศ.ยืน ภู่วรวรรณ </font></font></i>

</td>
</tr>
</table>
</body>
</html>
